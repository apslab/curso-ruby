<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <style>
      /* .gravatar img { float: left; padding-right: 10px; display: block; } */
      .gravatar p { margin-bottom: 0px; }
      .gravatar .mail { margin-bottom: 20px; font-size: 80% }
    </style>
    <title>Curso Ruby (MUG) by apslab</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Curso Ruby en el MUG</h1>
          <h2>Clouser y Funcional.</h2>
        </header>

        <hr>

        <section id="main_content">
          <h3>
            <a name="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages">
              <span class="octicon octicon-link"></span>
            </a>
            Git
          </h3>
          <h4>Closure</h4>

<p>Es una función evaluada en un entorno conteniendo una o mas variables de otro entorno (llamadas variables libres) esta función puede acceder a ellas</p>

<pre>
def metodo_con_bloque(&bloque)
  bloque.call
end

def metodo_con_bloque_sin_arg
  yield
end

def metodo_con_bloque_sin_arg_tuned
  yield if block_given?
end


def mostrar_el_resultado
  if block_given?
    value = yield
    puts "El bloque retorno: #{value}"
  end
end
</pre>

<pre>
class Document

  attr_accessor :content
  
  def initialize(content = nil)
    @content = ''
    yield(self) if block_given?
  end
end
</pre>

          <h4>Funcional</h4>
<h5>Proc (funciones anónimas) y lambdas</h5>
<h5>Diferencias:<h5>
<p>
1. The first difference is that, unlike Procs, lambdas check the number of arguments passed.
</p>
<pre>
Proc.new{|a, b, c| puts "Give me a #{a} and a #{b} and a #{c.class}"}
lambda{|a, b, c| puts "Give me a #{a} and a #{b} and a #{c.class}"}  
</pre>
<p>
2. Las lambda tienen retornos diminutivos. El retorno de Proc detiene el método donde se encuentra y devuelve el valor provisto.   
</p>

<pre>
def proc_return
  Proc.new { return "Proc.new"}.call
  return "proc_return method finished"
end

def lambda_return
  lambda { return "lambda" }.call
  return "lambda_return method finished"
end
</pre>

<h4>Metaprogramación</h4>
<p>Coding techniques that allow you to get the results you need with less code.</p>
<h4>Hooks</h4>
<h5>Herencia</h5>
<pre>
class SimpleBaseClass
  def self.inherited( new_subclass )
    puts "Hey #{new_subclass} is now a subclass of #{self}!"
  end
end
</pre>

<p>Ejemplo: Importación de un documento.  Subclases (XML, JSON, YAML, etc). Cuando heredo, en la clase padre guardo un array con cada tipo
</p>
<h5>Modulos</h5>
<pre>
module WritingQuality
  def self.included(klass)
    puts "Hey, I've been included in #{klass}"  
  end
end

module UsefulMethods
  module ClassMethods
    def a_class_method
      puts "A class method!!"
    end
  end

  def self.included(host_class)
    host_class.extend(ClassMethods)
  end

  def an_instance_method
    puts "an instance method!"
  end
end

class Host
  include UsefulMethods
end  
</pre>


        </section>

        <section id="downloads" class="clearfix">
          <!--
          <a href="https://github.com/apslab/curso-ruby/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/apslab/curso-ruby/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          -->
          <a href="https://github.com/apslab/curso-ruby" id="view-on-github" class="button"><span>Ver en GitHub</span></a>
        </section>
        
        <footer>
          Curso Ruby (MUG) is maintained by <a href="https://github.com/apslab">apslab</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.
        </footer>

                  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-41341424-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

      </div>
    </div>
  </body>
</html>

